# Ветка main-page: Разработка главной страницы Mirasol Estate

> **Примечание:** Глобальное описание проекта и его текущий статус находятся в файлах [README.md](./README.md) и [STATUS.md](./STATUS.md) в основной ветке.

## Цель рабочей ветки
Разработка полноценной главной страницы с интеграцией данных из Supabase и подготовка основы для административной панели с учетом будущей интеграции ИИ-консультанта.

## Концепция проекта

Проект основывается на гибридном подходе:
1. Стандартная админ-панель для управления контентом
2. ИИ-консультант для пользователей на главной странице
3. ИИ-помощник в административном режиме (перспективная интеграция)

## Стадии разработки

Разработка проекта будет происходить в два основных этапа:

### Стадия 1: Стандартная реализация (текущая)
- Разработка классической административной панели с ручным вводом данных
- Создание полноценной главной страницы с интеграцией данных
- Базовая функциональность ИИ-консультанта для пользователей (без административных возможностей)

### Стадия 2: ИИ-автоматизация (будущая)
- Интеграция ИИ-помощника в административную панель 
- Возможность управления сайтом через текстовые команды
- Автоматическая генерация и обработка контента с помощью ИИ
- Полная интеграция между ИИ-консультантом и административной частью

## Основные задачи

### 1. Главная страница
- [x] Базовая структура компонентов
- [ ] Интеграция с реальными данными из Supabase
- [ ] Оптимизация отображения на всех устройствах
- [ ] Функциональный поиск недвижимости
- [ ] Полная реализация ИИ-консультанта для пользователей

#### 1.1 Улучшение компонентов главной страницы
- [x] Оптимизация компонента AIConsultantSection
- [ ] Доработка адаптивности всех секций
- [ ] Улучшение верстки блока недвижимости

#### 1.2 Интеграция с Supabase
- [x] Базовое подключение Supabase
- [ ] Подключение реальных данных о недвижимости
- [ ] Реализация запросов к API для получения объектов
- [ ] Интеграция с UI компонентами

#### 1.3 Разработка функциональности ИИ-консультанта
- [ ] Подключение API для обработки сообщений
- [ ] Сохранение истории диалогов
- [ ] Реализация рекомендательной системы

### 2. Административная панель (подготовительная работа)
- [ ] Разработка структуры админ-панели
- [ ] Создание интерфейса согласно секциям главной страницы:
  - [ ] Управление баннером (HeroSection)
  - [ ] Управление блоком преимуществ (FeaturesSection)
  - [ ] Управление объектами недвижимости (PropertiesSection)
  - [ ] Настройки ИИ-консультанта (AIConsultantSection)
  - [ ] Управление статьями (ArticlesSection)
  - [ ] Настройки подвала сайта (FooterSection)
- [ ] Реализация системы аутентификации администраторов
- [ ] Документирование API для будущей интеграции с ИИ

### 3. Оптимизация производительности
- [ ] Оптимизация загрузки изображений
- [ ] Улучшение кэширования данных
- [ ] Оптимизация для мобильных устройств

### 4. Подготовка для Стадии 2 (ИИ-автоматизация)
- [ ] Разработка API-эндпоинтов для всех модулей
- [ ] Стандартизация формата запросов и ответов
- [ ] Система логирования действий
- [ ] Обеспечение безопасности доступа

## Приоритеты разработки
1. Завершение разработки функциональной главной страницы с интеграцией данных из Supabase
2. Стабильность и корректная работа UI компонентов
3. Производительность и пользовательский опыт
4. Подготовка базовой структуры для административной панели
5. Реализация функциональности управления объектами недвижимости

## Техническая спецификация

### Технологии
- Next.js 13.4.19 (App Router)
- React 18.2.0
- TypeScript
- Tailwind CSS
- Supabase (БД и аутентификация)

### Структура админ-панели

```
/admin
├── /dashboard                 # Сводная статистика и быстрые действия
├── /homepage                  # Управление компонентами главной страницы
│   ├── /hero                  # Настройки баннера (заголовки, изображения)
│   ├── /features              # Редактирование блока преимуществ
│   ├── /properties-showcase   # Настройка блока избранных объектов
│   ├── /ai-consultant         # Настройки ИИ-консультанта
│   ├── /articles-showcase     # Настройка блока избранных статей
│   └── /layout                # Порядок и видимость секций
├── /properties                # Полное управление объектами недвижимости
├── /articles                  # Управление статьями
├── /media                     # Медиатека
├── /ai-consultant             # Настройки ИИ-консультанта
├── /settings                  # Общие настройки
└── /users                     # Управление пользователями
```

## Исключенные задачи
Следующие задачи намеренно исключены из текущей ветки и будут реализованы позже:

1. **Интернационализация**: функционал мультиязычности будет реализован после завершения основного функционала (задачи находятся в ветке `feature/i18n-clean`)

2. **Полноценная административная панель**: полная разработка админ-панели будет выполнена в отдельной ветке после стабилизации основного функционала

## Тестирование
В рамках данной ветки будет выполняться регулярное тестирование:
- Кроссбраузерное тестирование
- Тестирование на различных устройствах
- Функциональное тестирование взаимодействия с базой данных

### Технические требования

1. **Производительность**: 
   - Первая загрузка страницы < 3 секунд
   - Core Web Vitals в зеленой зоне
   
2. **Безопасность**:
   - Проверка ролей и прав доступа для административных функций
   - Валидация всех пользовательских входных данных
   
3. **Масштабируемость**:
   - Модульная структура компонентов
   - Возможность легкого добавления новых секций
   - Готовность к интеграции с ИИ-системами

## Критерии готовности

1. Главная страница получает данные из Supabase и корректно их отображает
2. ИИ-консультант на главной странице функционален и имеет базовые знания о недвижимости
3. Подготовлена базовая структура административной панели
4. API документировано и готово для интеграции с ИИ-помощником
5. Весь функционал протестирован на различных устройствах

## План слияния с основной веткой
После завершения всех задач и успешного тестирования, данная ветка будет объединена с основной веткой `main`. При слиянии будет произведена интеграция обновлений из файлов `README_BRANCH.md` и `STATUS_BRANCH.md` в основные файлы документации проекта. 
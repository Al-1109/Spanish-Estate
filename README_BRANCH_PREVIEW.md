# Ветка preview-component: Разработка компонентов предпросмотра объектов недвижимости

> **Примечание:** Глобальное описание проекта и его текущий статус находятся в файлах [README.md](./README.md) и [STATUS.md](./STATUS.md) в основной ветке.

## Цель рабочей ветки
Создание и улучшение компонентов для предпросмотра объектов недвижимости с различными вариантами отображения (карточки, детальный вид) и интеграция их в административную панель и клиентскую часть сайта.

## Основные компоненты
Ветка сфокусирована на разработке следующих компонентов:

1. **PropertyPreview**: Основной компонент для предпросмотра объектов
   - Поддержка различных режимов отображения (`full`, `compact`)
   - Интеграция с компонентами `PropertyCard` и `PropertyDetailView`
   - Адаптивный дизайн для различных размеров экрана

2. **PreviewDrawer**: Компонент-обертка для отображения предпросмотра в выдвижной панели
   - Поддержка разных источников открытия (`edit`, `statistics` и др.)
   - Контекстные кнопки в зависимости от источника
   - Интеграция с навигацией сайта

3. **PropertyDetailView**: Компонент для детального отображения объекта
   - Полная информация об объекте недвижимости
   - Галерея изображений
   - Отображение характеристик, местоположения и другой информации

4. **PropertyCard**: Компонент карточки объекта для отображения на главной странице
   - Компактное представление основной информации
   - Оптимизированное отображение главного изображения
   - Интерактивные элементы (избранное, быстрый просмотр)

## Последние изменения

### Новый компонент PropertyPreview
> Дата: последнее обновление — текущая дата

Реализован унифицированный компонент для предпросмотра объектов недвижимости:
- Поддержка двух режимов отображения: полный и компактный
- Отображение объекта как в виде карточки на главной странице, так и в виде детальной страницы
- Адаптивный дизайн для различных устройств

### Интеграция PreviewDrawer с административной панелью
> Дата: последнее обновление — текущая дата

Компонент PreviewDrawer обновлен для лучшей интеграции с административной панелью:
- Добавлен отступ слева для сохранения видимости меню админки
- Реализована поддержка разных источников открытия с адаптацией интерфейса
- Улучшена навигация через контекстные кнопки

## План развития компонентов

### Компонент PropertyPreview
1. **Текущий статус**: Базовая реализация с двумя режимами отображения
2. **Следующие шаги**:
   - Добавление анимаций для плавных переходов между видами
   - Оптимизация производительности для больших объектов
   - Добавление кнопок социальных сетей для шеринга

### Компонент PreviewDrawer
1. **Текущий статус**: Базовая функциональность с контекстными кнопками
2. **Следующие шаги**:
   - Добавление анимации выдвижения панели
   - Улучшение мобильного представления
   - Добавление возможности сравнения объектов

### Компонент PropertyDetailView
1. **Текущий статус**: Отображение основной информации объекта
2. **Следующие шаги**:
   - Улучшение галереи изображений с поддержкой зума
   - Добавление интерактивной карты для местоположения
   - Интеграция виртуальных туров (если доступны)

### Компонент PropertyCard
1. **Текущий статус**: Компактное отображение основной информации
2. **Следующие шаги**:
   - Добавление анимаций при наведении
   - Оптимизация загрузки изображений
   - Добавление статусов (новый, акция, продан)

## Техническая спецификация

### Структура компонентов

```
/components
  /PropertyPreview.tsx       # Основной компонент предпросмотра
  /PreviewDrawer.tsx         # Выдвижная панель для предпросмотра
  /PropertyDetailView.tsx    # Детальное представление объекта
  /PropertyCard.tsx          # Карточка объекта для главной страницы
  /PropertyFeatures.tsx      # Компонент для отображения характеристик
  /PropertyGallery.tsx       # Галерея изображений объекта
```

### Основные пропсы компонентов

#### PropertyPreview
```typescript
interface PropertyPreviewProps {
  property: Property;         // Данные объекта недвижимости
  mode?: 'full' | 'compact';  // Режим отображения
}
```

#### PreviewDrawer
```typescript
interface PreviewDrawerProps {
  property: Property;                    // Данные объекта недвижимости
  isOpen: boolean;                       // Состояние открытия панели
  onClose: () => void;                   // Функция закрытия панели
  source?: 'edit' | 'statistics' | string; // Источник открытия
}
```

## Интеграция с другими модулями

### Административная панель
- Интеграция с формой редактирования объекта для предпросмотра изменений
- Использование на странице статистики для быстрого доступа к объекту
- Интеграция с системой уведомлений для показа результатов действий

### Клиентская часть
- Отображение объектов на главной странице через компонент PropertyCard
- Использование PropertyDetailView для страницы объекта
- Интеграция с системой избранного и сравнения объектов

## Приоритеты разработки

1. Улучшение пользовательского опыта при предпросмотре объектов
2. Оптимизация производительности компонентов
3. Расширение функциональности с учетом обратной связи от пользователей
4. Улучшение мобильного представления компонентов

## Критерии готовности
1. Компоненты корректно отображают все типы данных объектов недвижимости
2. Предпросмотр работает как в административной панели, так и в клиентской части
3. Интерфейс адаптивен для всех целевых устройств
4. Оптимизирована производительность и скорость загрузки
5. Проведено тестирование пользовательского опыта 